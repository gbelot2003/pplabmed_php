{"version":3,"sources":["histopatologia-form.js","citologias-facturas.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"histopatologia-form.js","sourcesContent":["\r\n(function(){\r\n    $.ajaxSetup({\r\n        headers: {\r\n            'X-XSRF-TOKEN': $('input[name=\"_token\"]').val()\r\n        }\r\n    });\r\n\r\n    function getDate(date){\r\n\r\n        const mydate = new Date(date);\r\n        const a = moment(new Date());\r\n        const b = moment(mydate);\r\n        const years = a.diff(b, 'year');\r\n\r\n        b.add(years, 'years');\r\n        const months = a.diff(b, 'months');\r\n        b.add(months, 'months');\r\n        const days = a.diff(b, 'days');\r\n\r\n        if(years > 0){\r\n            return years + ' A';\r\n        } else {\r\n            return months + ' M';\r\n        }\r\n    }\r\n\r\n    function checkItem(item){\r\n\r\n        items = [10328, 10328, 10332, 10333, 10334, 10335, 10336];\r\n        if (items.includes(item)) {\r\n            return false;\r\n        }\r\n        else {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    function isEmptyObject(obj) {\r\n\r\n        if (obj.length && obj.length > 0)\r\n            return false;\r\n\r\n        if (obj.length === 0)\r\n            return true;\r\n    }\r\n\r\n    $(document).ready(function () {\r\n        $('.dateclass').inputmask(\"##/##/####\");\r\n\r\n        $('#firma2_id').append($('<option>', {\r\n            value: 'none',\r\n            text: 'None',\r\n            attr: 'disabled'\r\n        }));\r\n\r\n        $(\"#factura\").focusout(function () {\r\n            var id = $(this).val();\r\n            //alert(id);\r\n            $.get('/facturas/' + id)\r\n                .done(function (data) {\r\n\r\n                    if (isEmptyObject(data)){\r\n                        alert(\"no hay datos\");\r\n                        $('#factura').val(\"\");\r\n                        $('#paciente').val(\"\");\r\n                        $('#edad').val(\"\");\r\n                        $('#edad2').val(\"\");\r\n                        $('#email').val(\"\");\r\n                        $('#direccion').val(\"\");\r\n                        $('#sexo').val(\"\");\r\n                        $('#medico').val(\"\");\r\n                        return;\r\n                    }\r\n\r\n                    if(checkItem(data.examen.item) === false){\r\n                        $(\"#factura\").val() === \"\";\r\n                        return alert('Esta no es una Biopsia');\r\n                    }\r\n\r\n                    $('#paciente').val(data.nombre_completo_cliente);\r\n\r\n                    $('#edad').val(data.edad);\r\n\r\n                    $('#email').val(data.correo);\r\n\r\n                    $('#direccion').val(data.direccion_entrega_sede);\r\n\r\n                    $('#sexo').val(data.sexo);\r\n\r\n                    $('#medico').val(data.medico);\r\n\r\n                })\r\n                .fail(function () {\r\n                    alert(\"Problemas con el servidor\");\r\n                    $('#factura').val(\"\");\r\n                    $('#paciente').val(\"\");\r\n                    $('#edad').val(\"\");\r\n                    $('#edad2').val(\"\");\r\n                    $('#email').val(\"\");\r\n                    $('#direccion').val(\"\");\r\n                    $('#sexo').val(\"\");\r\n                    $('#medico').val(\"\");\r\n                    return;\r\n                })\r\n        })\r\n    });\r\n\r\n    $('a.bt-insert').click(function(e){\r\n        e.preventDefault();\r\n        const id = $(this).attr(\"href\");\r\n        $.get('/plantillas/info/' + id)\r\n            .done(function(data){\r\n                console.log(data);\r\n                CKEDITOR.instances['informe'].insertHtml(data.body);\r\n            });\r\n    });\r\n\r\n    $('#ImagesModal').on('shown.bs.modal', function (e) {\r\n        // Initialize Dropzone\r\n    });\r\n\r\n    $('#topog').inputmask(\"#99.9\");\r\n\r\n    document.addEventListener(\"keydown\", function(event) {\r\n        if(event.which === 113){\r\n            if (confirm('¿Seguro que desea salir?, se perdera toda la Información no salvada!!')) {\r\n                window.location.href = '/citologias/create';\r\n            }\r\n        }\r\n\r\n        if(event.which == 120)\r\n        {\r\n            $( \"#myForm\" ).submit();\r\n        }\r\n    });\r\n\r\n})(jQuery);","(function(){\r\n\r\n    $.ajaxSetup({\r\n        headers: {\r\n            'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\r\n        }\r\n    });\r\n\r\n    function isEmptyObject(obj) {\r\n\r\n        if (obj.length && obj.length > 0)\r\n            return false;\r\n\r\n        if (obj.length === 0)\r\n            return true;\r\n    }\r\n\r\n    jQuery(document).ready(function () {\r\n\r\n        $('#editModalBtn').on('click',function(){\r\n            $('#myModal').modal();\r\n\r\n            var id = $(this).attr('rel');\r\n\r\n            $.get('/facturas/' + id)\r\n                .done(function (data) {\r\n\r\n                    if (isEmptyObject(data)) {\r\n                        $('#m_factura').val(\"\");\r\n                        $('#m_paciente').val(\"\");\r\n                        $('#m_edad').val(\"\");\r\n                        $('#m_email').val(\"\");\r\n                        $('#m_direccion').val(\"\");\r\n                        $('#m_sexo').val(\"\");\r\n                        $('#m_medico').val(\"\");\r\n                        alert(\"no hay datos\");\r\n                        return;\r\n                    }\r\n\r\n                    $('#m_factura').val(data.num_factura);\r\n\r\n                    $('#m_paciente').val(data.nombre_completo_cliente);\r\n\r\n                    $('#m_edad').val(data.edad);\r\n\r\n                    $('#m_email').val(data.correo);\r\n\r\n                    $('#m_direccion').val(data.direccion_entrega_sede);\r\n\r\n                    $('#m_sexo').val(data.sexo);\r\n\r\n                    $('#m_medico').val(data.medico);\r\n                });\r\n        });\r\n\r\n        $(\"#formFactura\").submit(function (e) {\r\n            e.preventDefault();\r\n            var id = $('#m_factura').val();\r\n\r\n            $.ajax({\r\n                type: \"PUT\",\r\n                url: \"/facturas/\" + id,\r\n                data: $(this).serialize(), // serializes the form's elements.\r\n            }).done(function(data){\r\n                $('#myModal').modal('hide');\r\n                $('#paciente').val(data.nombre_completo_cliente);\r\n                $('#edad').val(data.edad);\r\n                $('#email').val(data.correo);\r\n                $('#direccion').val(data.direccion_entrega_sede);\r\n                $('#sexo').val(data.sexo);\r\n                $('#medico').val(data.medico);\r\n\r\n            }).fail(function(data){\r\n                alert('error al salvar información' + data);\r\n            });\r\n\r\n        });\r\n\r\n        $('#duplicateBtn').on('click', function () {\r\n            $('#repeatFactura').modal();\r\n        })\r\n    })\r\n\r\n})(jQuery);"]}