!function(){function i(i,r){$.ajax({type:"put",url:"/histo/images/update/"+t,data:{_token:a,images:i,descripcion:$("#descripcion").val(),link_id:e,name:o}}).done(function(i){location.reload(),r.croppie("destroy")})}$.ajaxSetup({headers:{"X-XSRF-TOKEN":$('input[name="_token"]').val()}}),$("#brightness").prop("disabled",!0),$("#contrast").prop("disabled",!0),$("#saturation").prop("disabled",!0),$("#exposure").prop("disabled",!0),$("#descripcion").prop("disabled",!0);var e=$("#link_id").val(),o=$("#image_name").val(),t=$("#id").val(),a=$('input[name="_token"]').val();$("#descripcion").val();$("#cortar").on("click",function(e){$(this).prop("disabled",!0),$("#descripcion").prop("disabled",!1),$("#filtros").hide(),$("#gcortar").show();var o=$("#images2Cam").croppie({viewport:{width:500,height:400}});$("#gcortar").on("click",function(){size="viewport",o.croppie("result",{type:"canvas",size:size}).then(function(e){i(e,o),$(this).prop("disabled",!1),$("#descripcion").prop("disabled",!0)})})}),$("#filtros").on("click",function(i){$("#brightness").prop("disabled",!1),$("#contrast").prop("disabled",!1),$("#saturation").prop("disabled",!1),$("#exposure").prop("disabled",!1),$("#cortar").prop("disabled",!0),$(this).hide(),$("#gfiltros").show(),$("#gfiltros").prop("disabled",!0),$("#descripcion").prop("disabled",!1)}),$("#gfiltros").on("click",function(i){var r=$("#images2Cam"),s=r.get(0).toDataURL();$.ajax({type:"put",url:"/histo/images/update/"+t,data:{_token:a,images:s,descripcion:$("#descripcion").val(),link_id:e,name:o}}).done(function(i){location.reload(),$("#brightness").prop("disabled",!0),$("#contrast").prop("disabled",!0),$("#saturation").prop("disabled",!0),$("#exposure").prop("disabled",!0),$("#cortar").prop("disabled",!1),$("#descripcion").prop("disabled",!0),$(this).hide(),$("#filtros").show()})}),$("#brightness, #contrast, #saturation, #exposure").on("change",function(){var i=$("#brightness").val(),e=$("#contrast").val(),o=$("#saturation").val(),t=$("#exposure").val();$("#gfiltros").prop("disabled",!1),$("#brightnessValue").text(i),$("#contrastValue").text(e),$("#saturationValue").text(o),$("#exposureValue").text(t),Caman("#images2Cam",function(){this.revert(!1),this.brightness(parseInt(i)),this.newLayer(function(){this.setBlendingMode("multiply"),this.copyParent(),this.filter.contrast(parseInt(e)),this.filter.saturation(o),this.filter.exposure(t)}),this.render(function(){})})}),$("#descripcion").on("change",function(){Caman("#images2Cam",function(){this.brightness(1)}),$("#gfiltros").prop("disabled",!1)}),$("#preborrado").on("click",function(i){i.preventDefault(),$(this).hide(),$("#borrado").show(),$("#cborrado").show()}),$("#cborrado").on("click",function(i){i.preventDefault(),$(this).hide(),$("#preborrado").show(),$("#borrado").hide()})}(jQuery);